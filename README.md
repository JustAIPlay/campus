
# 校园社交对话系统 🏫

一个专为儿童设计的校园社交训练模拟应用，通过互动对话帮助孩子们学习和练习校园社交技能。基于现代Web技术栈构建，提供沉浸式的校园社交学习体验。

## ✨ 功能特性

### 🎭 多场景体验
- **10个校园场景**：教室、操场、图书馆、食堂、校长办公室、音乐教室、美术教室、校园花园、走廊、医务室
- **真实场景模拟**：每个场景都有独特的背景和氛围
- **情境化学习**：在不同环境中练习相应的社交技能

### 👥 丰富的角色系统
- **多样化NPC**：老师、同学、校长、校医等25+个角色
- **个性化设置**：每个角色都有独特的性格和对话风格
- **专属头像**：每个角色都配有专门设计的WebP格式头像
- **角色完整性**：所有场景中的人物都已配置专属头像，提升沉浸感

### 💬 智能对话系统
- **预设对话**：每个角色都有4-5个常用对话选项
- **情境匹配**：对话内容与场景高度匹配
- **社交技能训练**：涵盖问候、求助、道歉、感谢等社交场景

### 🎨 现代化界面
- **响应式设计**：支持各种屏幕尺寸
- **美观UI组件**：基于Radix UI和Tailwind CSS
- **流畅交互**：平滑的动画和过渡效果

## 🛠️ 技术栈

- **前端框架**：React 18.3.1 + TypeScript
- **构建工具**：Vite 6.3.5
- **UI组件库**：Radix UI (完整组件套件)
- **样式框架**：Tailwind CSS + CVA
- **状态管理**：Zustand 5.0.8
- **数据请求**：TanStack Query 5.87.1
- **图标库**：Lucide React 0.487.0
- **主题系统**：next-themes 0.4.6
- **图片格式**：WebP（优化加载速度）
- **其他工具**：Sharp、Sonner、React Hook Form等

## 🚀 快速开始

### 环境要求
- Node.js 18.0 或更高版本
- npm 或 yarn 包管理器

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

## 📁 项目结构

```
campus/
├── public/                 # 静态资源
│   └── images-webp/       # WebP格式图片资源
│       ├── avatar/        # 角色头像 (27个专属头像)
│       └── scenes/        # 场景背景
├── src/
│   ├── components/        # React组件
│   │   ├── ui/           # UI基础组件
│   │   └── figma/        # 自定义组件
│   ├── styles/           # 样式文件
│   └── App.tsx           # 主应用组件
├── images-webp/          # 原始WebP图片
│   ├── 人物/             # 角色图片 (23个角色头像)
│   └── 场景/             # 场景图片 (10个场景背景)
└── package.json          # 项目配置
```

## 🎯 使用说明

1. **选择场景**：在主界面选择想要体验的校园场景
2. **选择角色**：在场景中选择想要对话的NPC角色
3. **开始对话**：点击预设的对话选项开始互动
4. **学习社交技能**：通过不同的对话练习各种社交场景

## 🆕 最新更新

### v0.1.0 (2025-01)
- ✅ **项目初始化**：完成基础架构搭建
- ✅ **完善角色头像系统**：所有25+个角色都配置了专属头像
- ✅ **现代化技术栈**：升级到最新版本的React、Vite和相关依赖
- ✅ **完整UI组件库**：集成Radix UI完整组件套件
- ✅ **状态管理优化**：使用Zustand进行轻量级状态管理
- ✅ **主题系统**：支持明暗主题切换
- ✅ **优化视觉体验**：替换所有emoji头像为高质量WebP图片
- ✅ **角色一致性**：确保每个场景中的角色都有准确的视觉呈现

## 🔮 未来规划

- [ ] **AI对话功能**：集成大语言模型，支持自由对话
- [ ] **语音交互**：添加语音识别和语音合成功能
- [ ] **进度跟踪**：记录学习进度和社交技能提升
- [ ] **个性化推荐**：根据用户表现推荐适合的练习场景
- [ ] **多语言支持**：支持中英文切换
- [ ] **移动端适配**：开发移动端原生应用

## ♻️ 优化建议

- 最高优先级（建议优先落地）
  - 安全与后端代理：通过后端代理 /api/chat 转发硅基流动请求，隐藏前端 API Key；在后端加入限流、重试、超时与日志，避免密钥泄露并提升稳定性与可扩展性。
  - 资源路径统一：全量改用 /images-webp/... 且采用绝对路径（以“/”开头），减少路由或子路径部署时的 404 风险，优先 webp，失败回退 png/jpg。
  - CSS 体积优化：将 index.css 调整为 @tailwind 指令 + 内容扫描（JIT），生产构建仅输出实际使用的原子类，显著减小体积与加载时间。
  - 依赖版本锁定：将 clsx、tailwind-merge 等使用“*”的依赖固定具体版本，避免不可预期的升级引发线上问题。
  - 结构拆分：将体量较大的 App.tsx 拆分为“场景配置（常量/数据）+ UI 组件 + 对话容器”，为后续按需加载、状态细化与可维护性打基础。

- 体验提升（中优先级）
  - 快捷回复与内联建议：在输入框附近展示 3–5 个与 NPC/场景相关的话术快捷气泡；将“获取建议”从弹窗改为上下文内联，点击即插入或一键发送，减少上下文切换。
  - 流式输出与可取消：启用流式渲染（逐字显示）与“停止生成/继续生成”控制，降低等待焦虑并提升可控性。
  - 错误与离线可练习模式：AI 未配置或请求失败时，自动切换到“离线练习”规则回复 2–3 轮；错误提示中提供“重试/切换NPC/离线练习”选项。
  - 首次使用引导与场景目标提示：提供 2–3 步新手引导，场景页增加“本场景可练习：xxx”的意图提示，明确价值与路径。
  - 移动端输入与可访问性：支持 Enter 发送/Shift+Enter 换行、输入自适应高度、基础快捷键（如 /suggest 打开建议）、完善 Tab 顺序与 aria 标签。
  - 视觉与可读性：背景图叠加轻度遮罩提升对比度；消息气泡细节优化（尾巴/轻动效）；统一头像与图片加载降级策略。

- 长期建设（提高留存与数据驱动）
  - 学习目标与回顾闭环：会话开始选择目标（礼貌表达/清晰提问/安慰他人等），对话中给微反馈标签，会话结束提供总结（做得好/可改进/下次建议）。
  - 会话存档与复训：保存练习记录、支持回放与分享、支持“继续上次目标”的复训入口。
  - 指标与 A/B 测试：关键指标包含 TTFM（首条消息用时）、建议点击率、对话轮次、完成率；可对“弹窗 vs 内联建议”“快捷话术数量/位置”进行实验。
  - 内容安全与年龄适配：在系统提示中明确校园语境与不当内容过滤；触及敏感问题时引导“寻求老师/家长帮助”。

- 建议的落地顺序
  1) 后端代理化（隐藏 API Key + 限流/重试/日志）→ 提升安全与稳定
  2) 内联建议 + 快捷话术 → 缩短冷启动时间、提升参与度
  3) 流式输出 + 可取消 → 降低等待焦虑、增强可控性
  4) 错误/离线模式与首登引导 → 保证可用性与新手体验
  5) 拆分结构与 Tailwind 精简 → 为后续扩展与性能优化铺路

## 📄 许可证

本项目采用 MIT 许可证。详情请参阅 [LICENSE](LICENSE) 文件。

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进这个项目！

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- GitHub Issues: [提交问题](https://github.com/JustAIPlay/campus/issues)
- 项目地址: https://github.com/JustAIPlay/campus

---

**让孩子们在安全的虚拟环境中学习和练习社交技能！** 🌟
  